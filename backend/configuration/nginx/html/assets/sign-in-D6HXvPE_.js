import{g as re,h as oe,s as k,_ as l,r as c,i as ie,k as ae,o as le,a8 as ce,a9 as de,j as t,l as pe,n as ue,aa as he,ab as me,ac as B,u as ge,B as _,I as xe,w as fe,S as V,T as N,A as we,H as ye}from"./index-CRELzJTI.js";import{C as Ee}from"./config-global-D85ZwODf.js";import{L as ve,c as Ce}from"./main-zZCzAqhe.js";import{T as G}from"./TextField-DtVVHAoL.js";import{L as je}from"./LoadingButton-D4KKS1Ds.js";import{L as Se}from"./Link-Dfvcv3dR.js";function be(s){return oe("MuiCollapse",s)}re("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const ze=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],De=s=>{const{orientation:n,classes:a}=s,h={root:["root",`${n}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${n}`],wrapperInner:["wrapperInner",`${n}`]};return ue(h,be,a)},Ie=k("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(s,n)=>{const{ownerState:a}=s;return[n.root,n[a.orientation],a.state==="entered"&&n.entered,a.state==="exited"&&!a.in&&a.collapsedSize==="0px"&&n.hidden]}})(({theme:s,ownerState:n})=>l({height:0,overflow:"hidden",transition:s.transitions.create("height")},n.orientation==="horizontal"&&{height:"auto",width:0,transition:s.transitions.create("width")},n.state==="entered"&&l({height:"auto",overflow:"visible"},n.orientation==="horizontal"&&{width:"auto"}),n.state==="exited"&&!n.in&&n.collapsedSize==="0px"&&{visibility:"hidden"})),Re=k("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(s,n)=>n.wrapper})(({ownerState:s})=>l({display:"flex",width:"100%"},s.orientation==="horizontal"&&{width:"auto",height:"100%"})),Te=k("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(s,n)=>n.wrapperInner})(({ownerState:s})=>l({width:"100%"},s.orientation==="horizontal"&&{width:"auto",height:"100%"})),O=c.forwardRef(function(n,a){const h=ie({props:n,name:"MuiCollapse"}),{addEndListener:w,children:P,className:W,collapsedSize:o="0px",component:S,easing:r,in:b,onEnter:y,onEntered:z,onEntering:D,onExit:m,onExited:u,onExiting:d,orientation:I="vertical",style:$,timeout:g=he.standard,TransitionComponent:q=me}=h,J=ae(h,ze),R=l({},h,{orientation:I,collapsedSize:o}),E=De(R),H=le(),K=ce(),x=c.useRef(null),A=c.useRef(),T=typeof o=="number"?`${o}px`:o,v=I==="horizontal",C=v?"width":"height",F=c.useRef(null),Q=de(a,F),f=e=>i=>{if(e){const p=F.current;i===void 0?e(p):e(p,i)}},M=()=>x.current?x.current[v?"clientWidth":"clientHeight"]:0,X=f((e,i)=>{x.current&&v&&(x.current.style.position="absolute"),e.style[C]=T,y&&y(e,i)}),Y=f((e,i)=>{const p=M();x.current&&v&&(x.current.style.position="");const{duration:j,easing:L}=B({style:$,timeout:g,easing:r},{mode:"enter"});if(g==="auto"){const U=H.transitions.getAutoHeightDuration(p);e.style.transitionDuration=`${U}ms`,A.current=U}else e.style.transitionDuration=typeof j=="string"?j:`${j}ms`;e.style[C]=`${p}px`,e.style.transitionTimingFunction=L,D&&D(e,i)}),Z=f((e,i)=>{e.style[C]="auto",z&&z(e,i)}),ee=f(e=>{e.style[C]=`${M()}px`,m&&m(e)}),te=f(u),ne=f(e=>{const i=M(),{duration:p,easing:j}=B({style:$,timeout:g,easing:r},{mode:"exit"});if(g==="auto"){const L=H.transitions.getAutoHeightDuration(i);e.style.transitionDuration=`${L}ms`,A.current=L}else e.style.transitionDuration=typeof p=="string"?p:`${p}ms`;e.style[C]=T,e.style.transitionTimingFunction=j,d&&d(e)}),se=e=>{g==="auto"&&K.start(A.current||0,e),w&&w(F.current,e)};return t.jsx(q,l({in:b,onEnter:X,onEntered:Z,onEntering:Y,onExit:ee,onExited:te,onExiting:ne,addEndListener:se,nodeRef:F,timeout:g==="auto"?null:g},J,{children:(e,i)=>t.jsx(Ie,l({as:S,className:pe(E.root,W,{entered:E.entered,exited:!b&&T==="0px"&&E.hidden}[e]),style:l({[v?"minWidth":"minHeight"]:T},$),ref:Q},i,{ownerState:l({},R,{state:e}),children:t.jsx(Re,{ownerState:l({},R,{state:e}),className:E.wrapper,ref:x,children:t.jsx(Te,{ownerState:l({},R,{state:e}),className:E.wrapperInner,children:P})})}))}))});O.muiSupportAuto=!0;function Fe(){const s=ge(),[n,a]=c.useState(!1),[h,w]=c.useState(!1),[P,W]=c.useState(""),[o,S]=c.useState({username:!1,password:!1});c.useEffect(()=>{(async()=>{try{const u=await ve()}catch(u){console.error("Error fetching data:",u)}})()},[]);const[r,b]=c.useState({username:"",password:""}),y=m=>{const{name:u,value:d}=m.target;b(I=>({...I,[u]:d})),S({...o,[u]:!1}),w(!1)},z=c.useCallback(()=>{const m={username:r.username==="",password:r.password===""};S(m),r.username&&r.password&&(async()=>{try{const d=await Ce(r);console.log("Code",d),s("/",{replace:!0})}catch(d){console.error("Error fetching data:",d),W(d.response.data.message),w(!0)}})()},[r,s]),D=t.jsxs(_,{display:"flex",flexDirection:"column",alignItems:"flex-end",children:[t.jsx(G,{fullWidth:!0,name:"username",label:"Username",defaultValue:r==null?void 0:r.username,error:o==null?void 0:o.username,onChange:y,InputLabelProps:{shrink:!0},sx:{mb:3}}),t.jsx(G,{fullWidth:!0,name:"password",label:"Password",onChange:y,defaultValue:r==null?void 0:r.password,error:o==null?void 0:o.password,InputLabelProps:{shrink:!0},type:n?"text":"password",sx:{mb:3},InputProps:{endAdornment:t.jsx(xe,{position:"end",children:t.jsx(fe,{onClick:()=>a(!n),edge:"end",children:n?t.jsx(V,{width:"30px",height:"30px",src:"/assets/icons/iconify/password-show.svg"}):t.jsx(V,{width:"30px",height:"30px",src:"/assets/icons/iconify/password-hide.svg"})})})}}),t.jsx(O,{in:h,timeout:500,sx:{width:"100%"},children:t.jsx(N,{width:"100%",color:"white",mb:2,py:1.5,borderRadius:1,textAlign:"center",variant:"subtitle1",component:"div",bgcolor:"#FF5630",children:P})}),t.jsx(je,{fullWidth:!0,size:"large",type:"submit",color:"inherit",variant:"contained",onClick:z,children:"Sign in"})]});return t.jsxs(t.Fragment,{children:[t.jsxs(_,{gap:1.5,display:"flex",flexDirection:"column",alignItems:"center",sx:{mb:5},children:[t.jsx(we,{sx:{width:150,height:150,mb:3,border:"1px solid gray"},alt:"Remy Sharp",src:"/polipharm.png"}),t.jsx(N,{variant:"h5",children:"Sign in"}),t.jsxs(N,{variant:"body2",color:"text.secondary",children:["Donâ€™t have an account?",t.jsx(Se,{variant:"subtitle2",sx:{ml:.5},children:"Get started"})]})]}),D]})}function Ne(){return t.jsxs(t.Fragment,{children:[t.jsx(ye,{children:t.jsxs("title",{children:[" ",`Sign in - ${Ee.appName}`]})}),t.jsx(Fe,{})]})}export{Ne as default};
